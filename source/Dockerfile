FROM nginxinc/nginx-unprivileged:1.21-alpine

ENV EXTERNAL_HOST=github.com
ENV PORT=80
ENV ROUTE="/"
ENV CACHE_PATH="/tmp/cache"
ENV CACHE_KEY_ZONE_SIZE=10m
ENV CACHE_MAX_SIZE=1g
ENV CACHE_ENTRY_INACTIVE_TTL=72h
ENV CACHE_ENTRY_ACTIVE_TTL=30d

COPY config /etc/nginx/templates

EXPOSE ${PORT}
